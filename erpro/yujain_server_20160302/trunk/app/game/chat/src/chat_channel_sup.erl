%%% -------------------------------------------------------------------
%%% Author: markycai<tomarky.cai@gmail.com>
%%% Description :
%%%
%%% Created : 2013-12-9
%%% -------------------------------------------------------------------
-module(chat_channel_sup).

-behaviour(supervisor).
%% --------------------------------------------------------------------
%% Include files
%% --------------------------------------------------------------------
-include("chat.hrl").

%% --------------------------------------------------------------------
%% External exports
%% --------------------------------------------------------------------
-export([start/0,start_link/0]).

%% --------------------------------------------------------------------
%% Internal exports
%% --------------------------------------------------------------------
-export([
	 init/1
        ]).

%% --------------------------------------------------------------------
%% Macros
%% --------------------------------------------------------------------
-define(SERVER, ?MODULE).

%% --------------------------------------------------------------------
%% Records
%% --------------------------------------------------------------------

start()->
    supervisor:start_child(chat_sup, 
                           {?MODULE,{?MODULE,start_link,[]},
                            transient,
                            infinity,supervisor,[?MODULE]}).


start_link()->
    supervisor:start_link({local,?SERVER}, ?MODULE,[]).
%% ====================================================================
%% Internal functions
%% ====================================================================

init([]) ->
    ChildSpec = 
        {chat_channel, 
         {chat_channel, start_link, []},
         transient, 
         500,
         worker,
         [chat_channel]},
    {ok,{{simple_one_for_one,10,10}, [ChildSpec]}}.
